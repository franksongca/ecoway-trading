<ng-template #carousel>
  <div class="carousel-container" [ngStyle]="{'max-width': carouselInfo?.maxWidth + 'px', 'height': carouselInfo?.originalHeight + 'px'}">
    <div class="arrow arrow-left" [ngClass]="{'clickable': allowMoveRight}" (click)="moveRight('byMouse')"></div>
    <ul (mousemove)="onMouseMove($event)" (down)="down($event)" (up)="up($event)" [ngStyle]="{'transition-timing-function': carouselInfo?.trnsactionEffect, 'transition': 'left ' + carouselInfo?.animationDuration + 's', '-webkit-transition': 'left ' + carouselInfo?.animationDuration + 's', 'left': carouselIndex * carouselInfo?.originalWidth + 'px', 'width': carouselInfo?.originalWidth * carouselInfo?.items.length + 'px', 'height': carouselInfo?.originalHeight + 'px'}">
      <li *ngFor="let carouselItem of carouselInfo?.items; let i = index" [ngStyle]="{'width': carouselInfo?.originalWidth + 'px', 'height': carouselInfo?.originalHeight + 'px'}">
        <div class="item-content" (down)="onCarouselItemSelected(carouselItem.id)">
          <div *ngIf="!carouselItem.multiple" class="carousel-item-container" [ngStyle]="{'outline': '1px solid ' + carouselInfo.itemOutlineColor,'width': carouselInfo?.originalWidth + 'px', 'height': carouselInfo?.originalHeight + 'px', 'background-image': 'url(' + carouselItem.img + ')'}">
            <div class="message-content">
              <div [ngStyle]="{'font-family': carouselInfo?.carouselItemInfo.nameFontFamily, 'color': carouselInfo?.carouselItemInfo.name, 'font-size': carouselInfo?.carouselItemInfo.nameFontSize + 'px'}">{{carouselItem.name}}</div>
              <div [ngStyle]="{'font-family': carouselInfo?.carouselItemInfo.descFontFamily, 'color': carouselInfo?.carouselItemInfo.desc, 'font-size': carouselInfo?.carouselItemInfo.descFontSize + 'px'}">{{carouselItem.desc}}</div>
            </div>
          </div>
          <div *ngIf="carouselItem.multiple" [ngStyle]="{'width': carouselInfo?.originalWidth + 'px', 'height': carouselInfo?.originalHeight + 'px'}">
            <div *ngFor="let carouselChildItem of carouselItem.items; let j = index" class="child-item" (down)="onCarouselItemSelected(carouselChildItem.id)"
                 [ngStyle]="{'outline': '1px solid ' + carouselInfo.itemOutlineColor, 'left': carouselChildItem.position.x + 'px', 'top': carouselChildItem.position.y + 'px', 'width': carouselChildItem.size.width + 'px', 'height': carouselChildItem.size.height + 'px', 'background-image': 'url(' + carouselChildItem.img + ')'}">
              <div class="message-content">
                <div [ngStyle]="{'font-family': carouselInfo?.carouselChildItemInfo.nameFontFamily, 'color': carouselInfo?.carouselChildItemInfo.name, 'font-size': carouselInfo?.carouselChildItemInfo.nameFontSize + 'px'}">{{carouselChildItem.name}}</div>
                <div [ngStyle]="{'font-family': carouselInfo?.carouselChildItemInfo.descFontFamily, 'color': carouselInfo?.carouselChildItemInfo.desc, 'font-size': carouselInfo?.carouselChildItemInfo.descFonrSize + 'px'}">{{carouselChildItem.desc}}</div>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
    <div class="arrow arrow-right" [ngClass]="{'clickable': allowMoveLeft}" (click)="moveLeft('byMouse')"></div>
  </div>
</ng-template>

<ng-container *ngTemplateOutlet="carousel"></ng-container>
